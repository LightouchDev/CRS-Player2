webpackJsonp([4],{"+VGo":function(t,e){},"/626":function(t,e){},"/kfi":function(t,e){},"/nfy":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},"0d/v":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("/5sW"),r=n("L/hj"),c={active:{},booted:[],fetching:!1,opacity:{}},s={Add:function(t,e){r["d"].mainChannel!==e.login&&(t.booted.some(function(t){return t.login===e.login})||t.booted.push(e),o["a"].set(t.active,e.login,!0),o["a"].set(t.opacity,e.login,100))},Disable:function(t,e){o["a"].set(t.active,e,!1)},EditOpacity:function(t,e){var n=e.channel,a=e.opacity;o["a"].set(t.opacity,n,a)},Enable:function(t,e){o["a"].set(t.active,e,!0)},Fetched:function(t){t.fetching=!1},Fetching:function(t){t.fetching=!0},Remove:function(t,e){t.booted.some(function(t){return t.login===e})&&(o["a"].delete(t.active,e),o["a"].delete(t.opacity,e)),o["a"].set(t,"booted",t.booted.filter(function(t){return t.login!==e})),this.dispatch("View/RemoveChat",e)},ToggleVisibility:function(t,e){o["a"].set(t.active,e,!t.active[e])},UpdateOrder:function(t,e){o["a"].set(t,"booted",e)}},l={FetchAndAdd:function(t,e){var n=this,a=t.commit,o=t.state;!o.fetching&&e&&(a("Fetching"),Object(r["b"])({query:'query {\n        user(login: "'.concat(e,'") {\n          displayName\n          login\n          profileImageURL(width: 150)\n          stream {\n            previewImageURL(width: 320, height: 180)\n          }\n        }\n      }\n      ')}).then(function(t){return t.json()}).then(function(t){var o=t.data;if(!o.user.login)throw new Error("請檢查你的帳號名稱");var r=o.user;r.dedicated=!0,r.previewImageURL=r.stream.previewImageURL,n.commit("DisplayName/Update",i()({},e,r.displayName)),delete r.stream,a("Add",r),a("Fetched")}).then(function(){return Object(r["c"])('[Store] new channel "'.concat(e,'" fetched.'))}).catch(function(t){r["a"].emit("toast-error","擷取追蹤列表時發生錯誤 (".concat(t,")")),Object(r["e"])("[Store] can't fetch channel \"".concat(e,'" (').concat(t,")")),a("Fetched")}))}};e["default"]={namespaced:!0,state:c,mutations:s,actions:l}},"2mV7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("VjuZ"),i=(n.n(a),n("gNcp")),o={};i.keys().forEach(function(t){"./index.js"!==t&&(o[t.replace(/(\.\/|\.js)/g,"")]=i(t).default)}),e["default"]=o},"3R/k":function(t,e){},"6nfk":function(t,e){},"6xHO":function(t,e){},"7YgM":function(t,e){t.exports={name:"crs-player2",productName:"CRS-Player2",version:"1.1.0",author:"ChRiS38c28 (https://www.plurk.com/chris38c28)",contributors:["Miau Lightouch <miaulightouch@gmail.com>"],description:"The web multi-stream player.",license:"MIT",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build",lint:"vue-cli-service lint"},dependencies:{"@fortawesome/fontawesome":"^1.1.5","@fortawesome/fontawesome-free-brands":"^5.0.10","@fortawesome/vue-fontawesome":"^0.0.22",debug:"^3.1.0",eventemitter3:"^3.0.1","lodash.get":"^4.4.2",vue:"^2.5.13","vue-draggable-resizable":"^1.7.1",vuedraggable:"^2.16.0",vuetify:"^1.0.14",vuex:"^3.0.1"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.0-beta.6","@vue/cli-plugin-eslint":"^3.0.0-beta.6","@vue/cli-service":"^3.0.0-beta.6","babel-plugin-transform-imports":"^1.5.0","babel-plugin-transform-strict-mode":"^6.24.1",eslint:"^4.19.1","eslint-config-standard":"^11.0.0-beta.0","eslint-plugin-import":"^2.10.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.4.0","postcss-nesting":"^4.2.1","postcss-preset-env":"^4.0.0",stylus:"^0.54.5","stylus-loader":"^3.0.2","vue-template-compiler":"^2.5.13"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"90VL":function(t,e){},B1GH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("n12u"),r=(n.n(o),n("gbyG")),c=(n.n(r),n("Gh7F")),s=(n.n(c),n("L/hj")),l=s["d"].mainChannel,u=s["d"].titlePostfix,d={currentChannel:"",currentChat:l,currentPlatform:"twitch",currentView:"placeholder",enabledChat:[l],host:"",live:!1,sidebar:!0,title:n("7YgM").productName},h={ActiveChat:function(t,e){t.enabledChat.includes(e)||t.enabledChat.push(e)},ChangeChat:function(t,e){t.currentChat=e},UpdateChat:function(t,e){t.enabledChat=e},Update:function(t,e){Object.assign(t,e),e.title&&(document.title="".concat(e.title," - ").concat(u))},ToggleSidebar:function(t){t.sidebar=!t.sidebar}},f={Update:function(t,e){var n=t.commit;n("Update",e)},ChangeChat:function(t,e){var n=t.commit,a=t.state;a.enabledChat.includes(e)||n("ActiveChat",e),n("ChangeChat",e)},RemoveChat:function(t,e){var n=t.commit,a=t.state,i=a.enabledChat.filter(function(t){return t!==e});a.currentChat===e&&n("ChangeChat",i[0]),n("UpdateChat",i)},FetchInfo:function(t){var e=this,n=t.commit;t.state;Object(s["b"])({query:'query {\n        user(login: "'.concat(l,'") {\n          broadcastSettings {\n            title\n          }\n          displayName\n          hosting {\n            login\n            displayName\n          }\n          stream {\n            id\n          }\n        }\n      }')}).then(function(t){return t.json()}).then(function(t){var a=t.data;n("Update",{host:a.user.hosting.login||null,live:!!a.user.stream.id,title:a.user.broadcastSettings.title}),e.commit("DisplayName/Update",i()({},l,a.user.displayName)),a.user.hosting.login&&e.commit("DisplayName/Update",i()({},a.user.hosting.login,a.user.hosting.displayName))}).then(function(){s["a"].emit("toast-success","擷取頻道資訊成功"),s["a"].emit("parse-menu"),Object(s["c"])("[Store] fetch from GraphQL success!")}).catch(function(t){s["a"].emit("toast-error","擷取頻道資訊時發生錯誤 (".concat(t,")")),s["a"].emit("fallback-menu"),Object(s["e"])("[Store] fetch from GraphQL error (".concat(t,")"))})}};e["default"]={namespaced:!0,state:d,mutations:h,actions:f}},BCfr:function(t,e){},FbEL:function(t,e){},GSag:function(t,e){},"HNa/":function(t,e){},"L/hj":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return s});var a=n("Fy0/"),i=n.n(a),o=n("BzvE"),r=n.n(o),c=i()("CP2:info"),s=i()("CP2:warn"),l={};try{l=n("d/QJ"),c("[APP] preset import successful!")}catch(t){s("[APP] no preset imported.")}var u=new r.a;function d(t,e){if(!t.query)throw new Error('[GQL] property "query" is required.');return fetch(e||"https://gql.twitch.tv/gql",{body:JSON.stringify(t),headers:{"Client-Id":e?null:l.client_id,"Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer"})}},LGiM:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("/5sW"),i=n("IHMs"),o=n.n(i),r=n("QxPg"),c=n("U0v6"),s=n.n(c),l=n("b5xI"),u=n("M+UZ"),d=n.n(u),h=n("IcMm"),f=n.n(h),p=n("7Q1V"),m=n.n(p),b=n("MPXs"),v=n.n(b),g=n("XRgG"),w=n.n(g),y=n("JUsQ"),_=n.n(y),C=n("7M7f"),V=n.n(C),j=n("fYhH"),x=n.n(j),k=n("DBae"),O=n.n(k),T=n("rPQa"),S=n.n(T),N=n("UxJg"),P=n.n(N),F=n("dVU6"),U=n.n(F),L=n("6/SM"),D=n.n(L),E=n("/yi5"),$=n.n(E),M=n("+9ps"),I=n.n(M),A=n("6VHA"),R=n.n(A),q=n("L/hj"),B=(n("y9m4"),n("fx22"),n("VjuZ"),n("Oy1H")),G=n.n(B),H=(n("n12u"),n("Biqn")),Q=n.n(H),W=n("NYxO"),z=n("y3TV"),J=n.n(z),Z={name:"TheHeader",data:function(){return{menu:[],facebookWidget:!1}},computed:Q()({},Object(W["b"])(["DisplayName","View"]),{sidebarToggleIcon:function(){return this.View.sidebar?"chevron_right":"chevron_left"}}),created:function(){this.preset=q["d"],q["a"].on("parse-menu",this.parseMenu)},methods:{changeView:function(t){var e=this.menu[t];e.channel&&this.$store.dispatch("View/Update",{currentChannel:e.channel,currentPlatform:e.platform,currentView:"player"}),e.href&&window.open(e.href,"_blank")},parseMenu:function(){var t=this;Object(q["c"])("[MENU] start parse! %o",q["d"].menu),this.menu=[],q["d"].menu.forEach(function(e,n){var a=[];if(e=Object.assign({},e),Object.keys(e).forEach(function(t){var n=e[t];"object"===G()(n)&&n.source&&a.push(fetch(n.source).then(function(t){return t.json()}).then(function(a){n.template?e[t]=n.template.replace("%s",J()(a,n.path)):e[t]=a}))}),a.length&&Promise.all(a).then(function(){e.toast&&e.toast.success&&q["a"].emit("toast-success",e.toast.success),Object(q["c"])("[MENU] Job ".concat(n,": ").concat(e.type," job done"))}).catch(function(a){e.toast&&e.toast.error&&q["a"].emit("toast-error","".concat(e.toast.error," (").concat(a,")")),Object(q["e"])("[MENU] Job ".concat(n,": '").concat(e.type,"' error (").concat(a,")")),t.menu=t.menu.filter(function(t){return t!==e})}),"link"===e.type||e.platform||(e.platform="twitch"),"mainChannel"===e.type&&(e.label=e.label||t.DisplayName[q["d"].mainChannel]||q["d"].mainChannel,e.channel=e.channel||q["d"].mainChannel),"host"===e.type){if(!t.View.host)return;e.label=e.label||"轉播：".concat(t.DisplayName[t.View.host]||t.View.host),e.channel=e.channel||t.View.host}t.menu.push(e)})}}},X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{id:"the-header",app:""}},[n("font-awesome-icon",{attrs:{icon:["fab",t.View.currentPlatform],"fixed-width":"",size:"2x"}}),n("v-toolbar-title",[t._v(t._s(t.View.title))]),n("v-spacer"),n("v-toolbar-items",[n("v-menu",{attrs:{bottom:"",left:"","offset-y":""}},[n("v-btn",{attrs:{slot:"activator",color:"teal"},slot:"activator"},[t._v("主選單")]),n("v-list",{attrs:{dense:""}},[t._l(t.menu,function(e,a){return n("v-list-tile",{key:a,on:{click:function(e){t.changeView(a)}}},[e.platform?n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab",e.platform],size:"lg","fixed-width":""}}):e.type?n("v-icon",{staticClass:"tile-icon"},[t._v(t._s(e.type))]):t._e(),n("v-list-tile-title",[t._v(t._s(e.label))])],1)}),t.preset.fb_widget?n("v-list-tile",{on:{click:function(e){t.facebookWidget=!0}}},[n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab","facebook"],size:"lg","fixed-width":""}}),t._v("\n          臉書專頁\n        ")],1):t._e(),t.preset.placeholder?n("v-list-tile",{on:{click:function(e){t.$store.commit("View/Update",{currentView:"placeholder"})}}},[n("v-icon",{staticClass:"tile-icon"},[t._v("help")]),t._v("\n          使用說明\n        ")],1):t._e(),n("v-list-tile",{on:{click:function(e){t.$store.dispatch("View/FetchInfo")}}},[n("v-icon",{staticClass:"tile-icon"},[t._v("refresh")]),t._v("\n          重新擷取頻道資訊\n        ")],1)],2)],1)],1),n("v-btn",{attrs:{icon:""},on:{click:function(e){t.$store.commit("View/ToggleSidebar")}}},[n("v-icon",[t._v(t._s(t.sidebarToggleIcon))])],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.facebookWidget,callback:function(e){t.facebookWidget=e},expression:"facebookWidget"}},[t.facebookWidget?n("iframe",{staticClass:"elevation-8",attrs:{id:"facebook-widget",src:t.preset.fb_widget,height:"100%",width:"100%",frameborder:"0",framespacing:"0"}}):t._e()])],1)},Y=[],K=n("XyMi");function tt(t){n("/nfy")}var et=!1,nt=tt,at=null,it=null,ot=Object(K["a"])(Z,X,Y,et,nt,at,it),rt=ot.exports,ct=n("rwDq"),st={name:"TheContent",components:{Player:ct["a"]},computed:Q()({},Object(W["b"])(["View"])),created:function(){this.preset=q["d"]},methods:{isShow:function(t){return this.View.currentView===t}}},lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("v-container",{attrs:{id:"container",fluid:""}},[n("Player",{directives:[{name:"show",rawName:"v-show",value:t.isShow("player"),expression:"isShow('player')"}],attrs:{id:"main-player",channel:t.View.currentChannel,platform:t.View.currentPlatform}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow("placeholder"),expression:"isShow('placeholder')"}]},[n("img",{attrs:{id:"placeholder",src:t.preset.placeholder}})])],1)],1)},ut=[];function dt(t){n("GSag")}var ht=!1,ft=dt,pt=null,mt=null,bt=Object(K["a"])(st,lt,ut,ht,ft,pt,mt),vt=bt.exports,gt=n("rzQm"),wt=n.n(gt),yt={name:"Chat",props:{channel:{default:"",type:String,required:!0}}},_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("iframe",{attrs:{src:"//www.twitch.tv/embed/"+t.channel+"/chat",frameborder:"0",scrolling:"no",height:"100%",width:"340px"}})},Ct=[],Vt=!1,jt=null,xt=null,kt=null,Ot=Object(K["a"])(yt,_t,Ct,Vt,jt,xt,kt),Tt=Ot.exports,St={name:"TheChatTab",components:{Chat:Tt},computed:Q()({},Object(W["b"])(["View"]))},Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tabs",{attrs:{id:"the-chat-page"}},[n("v-tabs-items",{model:{value:t.View.currentChat,callback:function(e){t.$set(t.View,"currentChat",e)},expression:"View.currentChat"}},t._l(t.View.enabledChat,function(t){return n("v-tab-item",{key:t,attrs:{id:t}},[n("Chat",{attrs:{channel:t}})],1)}))],1)},Pt=[];function Ft(t){n("QVKz")}var Ut=!1,Lt=Ft,Dt=null,Et=null,$t=Object(K["a"])(St,Nt,Pt,Ut,Lt,Dt,Et),Mt=$t.exports,It={name:"TheSideBar",components:{TheChatTab:Mt,TheFollowTab:function(){return n.e(2).then(n.bind(null,"dxDj"))},TheSettingTab:function(){return n.e(0).then(n.bind(null,"LAve"))}},data:function(){return{currentTab:null,menuWidth:0}},computed:Q()({},Object(W["b"])(["View","DisplayName","Player"]),{channelList:function(){return[q["d"].mainChannel,this.View.host].concat(wt()(this.Player.booted.map(function(t){return t.login})))},menuStyle:function(){if(this.menuWidth)return{width:this.menuWidth+"px"}}}),mounted:function(){this.menuWidth=this.$refs.tabChat.$el.getBoundingClientRect().width},methods:{getDisplayName:function(t){return this.DisplayName[t]||t}}},At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{id:"the-side-bar",app:"","hide-overlay":"","mobile-break-point":"0",right:"",width:"340"},model:{value:t.View.sidebar,callback:function(e){t.$set(t.View,"sidebar",e)},expression:"View.sidebar"}},[n("v-tabs",{attrs:{id:"side-bar-tabs",color:"teal"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("v-tab",{ref:"tabChat",attrs:{id:"label-chat",href:"#tab-chat"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"],"fixed-width":"",size:"lg"}}),t._v("\n      "+t._s(t.getDisplayName(t.View.currentChat))+"\n      "),n("v-spacer"),n("v-menu",{attrs:{id:"channel-drop-down",dark:"",left:"","offset-y":""}},[n("a",{staticClass:"tabs__div",attrs:{slot:"activator"},slot:"activator"},[n("v-icon",[t._v("arrow_drop_down")])],1),n("v-list",{style:t.menuStyle,attrs:{id:"channel-list",dense:""}},t._l(t.channelList,function(e){return n("v-list-tile",{key:e,on:{click:function(n){t.$store.dispatch("View/ChangeChat",e)}}},[t._v("\n            "+t._s(t.getDisplayName(e))+"\n          ")])}))],1)],1),n("v-tab",{attrs:{href:"#tab-setting"}},[t._v("視窗設定")]),n("v-tab",{attrs:{href:"#tab-follow"}},[t._v("已追隨")]),n("v-tabs-items",{model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("v-tab-item",{attrs:{id:"tab-chat"}},[n("TheChatTab")],1),n("v-tab-item",{attrs:{id:"tab-setting"}},[n("TheSettingTab")],1),n("v-tab-item",{attrs:{id:"tab-follow"}},[n("TheFollowTab")],1)],1)],1)],1)},Rt=[];function qt(t){n("vUnL")}var Bt=!1,Gt=qt,Ht=null,Qt=null,Wt=Object(K["a"])(It,At,Rt,Bt,Gt,Ht,Qt),zt=Wt.exports,Jt=[];function Zt(t){if(!t.text)throw new Error("[toast] no text supplied");t.closeable=void 0===t.closeable&&!0,t.options=Object.assign({color:"info","auto-height":!0,timeout:1200,top:!0,"multi-line":!!t.title||t.text.length>80},t.options),Jt.push(t),q["a"].emit("toast-process-queue")}q["a"].on("toast-open",Zt),q["a"].on("toast-success",function(t){return Zt({text:t,options:{color:"success"}})}),q["a"].on("toast-error",function(t){return Zt({text:t,options:{color:"error"}})});var Xt={name:"TheToast",data:function(){return{closeable:!1,open:!1,options:{},text:"",title:""}},watch:{open:function(t){!t&&this.close()}},mounted:function(){var t=this,e=function(){if(!t.open&&Jt.length){var e=Jt.shift();t.closeable=e.closeable,t.options=e.options,t.text=e.text,t.title=e.title,setTimeout(function(){t.open=!0},700)}};q["a"].on("toast-process-queue",e),e()},methods:{close:function(){this.open=!1,Jt.length&&q["a"].emit("toast-process-queue")}}},Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",t._b({model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},"v-snackbar",t.options,!1),[n("div",{staticClass:"ctn"},[t.title?n("div",{staticClass:"title mb-2"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"txt"},[t._v(t._s(t.text))])]),t.closeable?n("v-btn",{attrs:{flat:"",icon:""},nativeOn:{click:function(e){return t.close(e)}}},[n("v-icon",[t._v("close")])],1):t._e()],1)},Kt=[],te=!1,ee=null,ne=null,ae=null,ie=Object(K["a"])(Xt,Yt,Kt,te,ee,ne,ae),oe=ie.exports,re={name:"App",components:{TheHeader:rt,TheContent:vt,TheSideBar:zt,TheFloatLayer:function(){return n.e(1).then(n.bind(null,"xaoL"))},TheToast:oe},mounted:function(){Object.keys(q["d"]).length&&this.$store.dispatch("View/FetchInfo")}},ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app",dark:""}},[n("TheHeader"),n("TheContent"),n("TheSideBar"),n("TheFloatLayer"),n("TheToast")],1)},se=[];function le(t){n("+VGo")}var ue=!1,de=le,he=null,fe=null,pe=Object(K["a"])(re,ce,se,ue,de,he,fe),me=pe.exports,be=n("2mV7");a["a"].use(W["a"]);var ve=new W["a"].Store({modules:be["default"],strict:!1});n("s6ZO");a["a"].use(d.a,{components:{VApp:f.a,VBtn:m.a,VDialog:v.a,VDivider:w.a,VGrid:_.a,VIcon:V.a,VList:x.a,VMenu:O.a,VNavigationDrawer:S.a,VSnackbar:P.a,VSlider:U.a,VTabs:D.a,VTextField:$.a,VToolbar:I.a,transitions:R.a},theme:{primary:o.a.teal.darken1,secondary:o.a.grey.darken4,accent:o.a.teal.darken3,error:o.a.red.base,warning:o.a.yellow.base,info:o.a.blue.base,success:o.a.green.base}}),a["a"].config.productionTip="production",r["default"].library.add(l["a"],l["b"],l["c"]),a["a"].component("font-awesome-icon",s.a),new a["a"]({store:ve,render:function(t){return t(me)}}).$mount("#app")},NOHZ:function(t,e){},P0ba:function(t,e){},QVKz:function(t,e){},VVS6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("n12u"),i=(n.n(a),n("uDYd")),o=(n.n(i),n("/5sW")),r=n("L/hj"),c={fetching:!1,list:[],ready:!1};function s(t){var e=[],n={};return t.sort(function(t,e){return!!t.stream.broadcaster===!!e.stream.broadcaster?new Date(t.lastBroadcast.startedAt)>new Date(e.lastBroadcast.startedAt)?-1:1:t.stream.broadcaster?-1:1}).forEach(function(t){e.push(Object.assign({login:t.login,startedAt:t.lastBroadcast.startedAt},t.stream.broadcaster?{title:t.stream.broadcaster.broadcastSettings.title,previewImageURL:t.stream.previewImageURL}:{profileImageURL:t.profileImageURL})),n[t.login]=t.displayName}),this.commit("DisplayName/Update",n),e}var l={Empty:function(t){o["a"].set(t,"ready",!1),o["a"].set(t,"list",[])},Fetched:function(t){t.fetching=!1},Fetching:function(t){t.fetching=!0},Ready:function(t){o["a"].set(t,"ready",!0)},SortAndReady:function(t){o["a"].set(t,"list",s.call(this,c.list)),o["a"].set(t,"ready",!0)},Update:function(t,e){o["a"].set(t,"list",c.list.concat(e.map(function(t){var e=t.node;return e}).filter(function(t){return t.login}))),e.forEach(function(t){var e=t.node;return Object(r["e"])("ID: %s",e.login)})}},u={Search:function(t,e){var n=t.commit;if(!c.fetching&&e){n("Fetching"),n("Empty");var a=0,i=function t(e,i){Object(r["b"])({extensions:{},operationName:"ChannelFollows",query:d,variables:{limit:i?7:15,login:e,cursor:i,order:"DESC"}}).then(function(t){return t.json()}).then(function(i){var o=i.data;if(!o.user.follows)throw new Error("請檢查你的帳號名稱");var c=o.user.follows.edges;n("Update",c),a+=c.length,o.user.follows.pageInfo.hasNextPage?t(e,c[c.length-1].cursor):(r["a"].emit("toast-success","已擷取追蹤列表: ".concat(a)),n("SortAndReady"),n("Fetched"))}).then(function(){return Object(r["c"])("[Store] fetch follow list ".concat(a))}).catch(function(t){r["a"].emit("toast-error","擷取追蹤列表時發生錯誤 (".concat(t,")")),Object(r["e"])("[Store] fetch follow list error, ".concat(a," fetched. (").concat(t,")")),n("Fetched")})};i(e)}}},d="\nquery ChannelFollows($login: String, $limit: Int, $cursor: Cursor, $order: SortOrder) {\n  user(login: $login) {\n    follows(first: $limit, after: $cursor, order: $order) {\n      pageInfo {\n        hasNextPage\n      }\n      edges {\n        cursor\n        node {\n          displayName\n          lastBroadcast {\n            startedAt\n          }\n          login\n          profileImageURL(width: 150)\n          stream {\n            broadcaster {\n              broadcastSettings {\n                title\n              }\n            }\n            previewImageURL(width: 320, height: 180)\n          }\n        }\n      }\n    }\n  }\n}\n";e["default"]={namespaced:!0,state:c,mutations:l,actions:u}},"X05+":function(t,e){},XC5Q:function(t,e){},acBN:function(t,e){},"d/QJ":function(t,e){t.exports={client_id:"kimne78kx3ncx6brgo4mv6wki5h1ko",fb_widget:"https://www.facebook.com/v2.12/plugins/page.php?adapt_container_width=true&app_id=&channel=http%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2FMs1VZf1Vg1J.js%3Fversion%3D42%23cb%3Df74608d1c2edc%26domain%3D%26origin%3Dfile%253A%252F%252F%252Ff6ad99404e22cc%26relation%3Dparent.parent&container_width=840&hide_cover=false&href=https%3A%2F%2Fwww.facebook.com%2Ftetristhegrandmaster3&locale=zh_TW&sdk=joey&show_facepile=true&small_header=false&tabs=timeline&width=500&height=720",mainChannel:"tetristhegrandmaster3",menu:[{channel:{path:"hosts[1].okurl",source:"https://crs-dlbot.herokuapp.com/cors",template:"https://ok.ru/videoembed/%s?nochat=1&autoplay=1"},label:"三民大戲院",platform:"odnoklassniki",toast:{success:"讀取大戲院資訊成功",error:"讀取大戲院資訊失敗"},type:"misc"},{label:"彩學台",type:"mainChannel"},{type:"host"},{href:"http://tetristhe.droppages.com/clips.html",label:"精華剪輯",type:"link"}],placeholder:"https://imgur.com/2yEZ5xY.png",titlePostfix:"實況主中途之家"}},gNcp:function(t,e,n){var a={"./DisplayName.js":"xyUP","./Follows.js":"VVS6","./Player.js":"0d/v","./View.js":"B1GH","./index.js":"2mV7"};function i(t){return n(o(t))}function o(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="gNcp"},kP4z:function(t,e){},kVeV:function(t,e){},pu2v:function(t,e){},qRVk:function(t,e){},rwDq:function(t,e,n){"use strict";var a={name:"Player",props:{channel:{default:"",type:String},platform:{default:"twitch",type:String}},computed:{src:function(){return"twitch"===this.platform?"//player.twitch.tv/?channel=".concat(this.channel):this.channel}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.channel?n("div",{attrs:{id:t.channel}},[n("iframe",{staticClass:"player-frame",attrs:{src:t.src,height:"100%",width:"100%",frameborder:"0",framespacing:"0"}})]):t._e()},o=[],r=n("XyMi");function c(t){n("6xHO")}var s=!1,l=c,u=null,d=null,h=Object(r["a"])(a,i,o,s,l,u,d);e["a"]=h.exports},rzhv:function(t,e){},s6ZO:function(t,e){},sBiC:function(t,e){},vUnL:function(t,e){},xyUP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("/5sW"),r=n("L/hj"),c={},s={Delete:function(t,e){o["a"].delete(t,e)},Update:function(t,e){Object.keys(e).forEach(function(n){o["a"].set(t,n,e[n])})}},l={Fetch:function(t,e){var n=t.commit;Object(r["b"])({query:'query {\n        user(login: "'.concat(e,'") {\n          displayName\n        }\n      }')}).then(function(t){return t.json()}).then(function(t){var a=t.data;return n("Update",i()({},e,a.user.displayName))}).then(function(){return Object(r["c"])("[GQL] ".concat(e," display name get."))}).catch(function(t){return Object(r["e"])("[GQL] ".concat(e," display name failed. (").concat(t,")"))})}};e["default"]={namespaced:!0,state:c,mutations:s,actions:l}}},[0]);
//# sourceMappingURL=app.4173b36f.js.map