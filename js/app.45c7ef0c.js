webpackJsonp([1],{"+VGo":function(t,e){},"/nfy":function(t,e){},0:function(t,e,n){t.exports=n("NHnr")},"2mV7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("VjuZ"),i=(n.n(a),n("gNcp")),r={};i.keys().forEach(function(t){"./index.js"!==t&&(r[t.replace(/(\.\/|\.js)/g,"")]=i(t).default)}),e["default"]=r},"6xHO":function(t,e){},"7YgM":function(t,e){t.exports={name:"crs-player2",productName:"CRS-Player2",version:"0.1.0",author:"ChRiS38c28 (https://www.plurk.com/chris38c28)",contributors:["Miau Lightouch <miaulightouch@gmail.com>"],description:"The web multi-stream player.",license:"MIT",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build",lint:"vue-cli-service lint"},dependencies:{"@fortawesome/fontawesome":"^1.1.5","@fortawesome/fontawesome-free-brands":"^5.0.9","@fortawesome/vue-fontawesome":"^0.0.22",vue:"^2.5.13",vuetify:"^1.0.11",vuex:"^3.0.1"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.0-beta.6","@vue/cli-plugin-eslint":"^3.0.0-beta.6","@vue/cli-service":"^3.0.0-beta.6","babel-plugin-transform-strict-mode":"^6.24.1",eslint:"^4.19.1","eslint-config-standard":"^11.0.0-beta.0","eslint-plugin-import":"^2.9.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.4.0","postcss-nesting":"^4.2.1","postcss-preset-env":"^3.4.0","vue-template-compiler":"^2.5.13"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"7zck":function(t,e){},B1GH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),r=n("EuXz"),o=(n.n(r),n("n12u")),s=(n.n(o),n("V/H3")),c={activeFloatPlayer:[],currentChannel:"",currentPlatform:"twitch",currentView:"placeholder",okChannelID:"",title:n("7YgM").productName},l={Update:function(t,e){Object.assign(t,e),e.title&&(document.title="".concat(e.title," - ").concat(this.state.Config.titlePostfix))}},u={Update:function(t,e){var n=t.commit;n("Update",e)},FetchInfo:function(t){var e=this,n=t.commit,a=(t.state,this.state.Config),r=a.mainChannel,o=a.client_id;fetch("https://api.twitch.tv/kraken/channels/".concat(r,"?client_id=").concat(o)).then(function(t){return t.json()}).then(function(t){n("Update",{title:t.status,info:t}),e.commit("DisplayName/Update",i()({},t.name,t.display_name))}).then(function(){return s["a"].open({text:"擷取頻道資訊成功",options:{color:"success"}})}).catch(function(t){return s["a"].open({text:"擷取頻道資訊發生錯誤 (".concat(t,")"),options:{color:"error"}})}),fetch("https://crs-dlbot.herokuapp.com/cors").then(function(t){return t.json()}).then(function(t){var e=t.hosts;n("Update",{CRS:e})}).then(function(){return s["a"].open({text:"擷取 Host, 外部站台 成功",options:{color:"success"}})}).catch(function(t){return s["a"].open({text:"擷取 Host, 外部站台 發生錯誤 (".concat(t,")"),options:{color:"error"}})})}};e["default"]={namespaced:!0,state:c,mutations:l,actions:u}},Dkr9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("n12u"),i=(n.n(a),{channelMenu:[{label:"三民大戲院",platform:"odnoklassniki",type:"misc"},{channel:"tetristhegrandmaster3",label:"彩學台",platform:"twitch",type:"channel"},{label:"精華剪輯",type:"link",url:"http://tetristhe.droppages.com/clips.html"}],client_id:"f03diai4g1nzfwo3om1s87jvdq65hax",fb_widget:"https://www.facebook.com/v2.12/plugins/page.php?adapt_container_width=true&app_id=&channel=http%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2FMs1VZf1Vg1J.js%3Fversion%3D42%23cb%3Df74608d1c2edc%26domain%3D%26origin%3Dfile%253A%252F%252F%252Ff6ad99404e22cc%26relation%3Dparent.parent&container_width=840&hide_cover=false&href=https%3A%2F%2Fwww.facebook.com%2Ftetristhegrandmaster3&locale=zh_TW&sdk=joey&show_facepile=true&small_header=false&tabs=timeline&width=500&height=720",mainChannel:"tetristhegrandmaster3",placeholder:"https://i.imgur.com/tqZiViA.png",titlePostfix:"實況主中途之家"}),r={Update:function(t,e){Object.assign(t,e)}},o={Update:function(t,e){var n=t.commit;n("Update",e)}};e["default"]={namespaced:!0,state:i,mutations:r,actions:o}},GSag:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("/5sW"),i=n("3EgV"),r=n.n(i),o=n("IHMs"),s=n.n(o),c=n("QxPg"),l=n("U0v6"),u=n.n(l),h=n("b5xI"),f=n("Biqn"),p=n.n(f),d=n("NYxO"),m={name:"TheHeader",computed:p()({},Object(d["b"])(["View","Config"])),methods:{changeView:function(t){var e=this.Config.channelMenu[t];"channel"===e.type&&this.$store.dispatch("View/Update",{currentChannel:e.channel,currntPlatform:e.platform,currentView:"player"}),"link"===e.type&&window.open(e.url,"_blank")},getMenuIcon:function(t){return t.platform||t.type}}},v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{id:"the-header",app:""}},[n("font-awesome-icon",{attrs:{icon:["fab",t.View.currentPlatform],"fixed-width":"",size:"2x"}}),n("v-toolbar-title",[t._v(t._s(t.View.title))]),n("v-spacer"),n("v-toolbar-items",[n("v-menu",{attrs:{bottom:"",left:"","offset-y":""}},[n("v-btn",{attrs:{slot:"activator",color:"teal"},slot:"activator"},[t._v("主選單")]),n("v-list",{attrs:{dense:""}},[t._l(t.Config.channelMenu,function(e,a){return n("v-list-tile",{key:a,on:{click:function(e){t.changeView(a)}}},[e.platform?n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab",e.platform],size:"lg","fixed-width":""}}):e.type?n("v-icon",{staticClass:"tile-icon"},[t._v(t._s(e.type))]):t._e(),n("v-list-tile-title",[t._v(t._s(e.label))])],1)}),n("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:t.Config.fb_widget,expression:"Config.fb_widget"}]},[n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab","facebook"],size:"lg","fixed-width":""}}),t._v("\n          臉書專頁\n        ")],1),n("v-list-tile",{on:{click:function(e){t.$store.dispatch("View/FetchInfo")}}},[n("v-icon",{staticClass:"tile-icon"},[t._v("refresh")]),t._v("\n          重新擷取頻道資訊\n        ")],1)],2)],1)],1)],1)},b=[],w=n("XyMi");function g(t){n("/nfy")}var _=!1,y=g,C=null,x=null,k=Object(w["a"])(m,v,b,_,y,C,x),j=k.exports,V={name:"Player",props:{channel:{default:"",type:String},platform:{default:"twitch",type:String},opacity:{default:100,type:Number},z_index:{default:1,type:Number}},computed:{style:function(){return{opacity:this.opacity,"z-index":this.z_index}},src:function(){return"twitch"===this.platform?"https://player.twitch.tv/?channel="+this.channel:""}}},O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.channel?n("div",{style:t.style,attrs:{id:t.channel}},[n("iframe",{attrs:{src:t.src,height:"100%",width:"100%",frameborder:"0",framespacing:"0"}})]):t._e()},T=[];function S(t){n("6xHO")}var N=!1,P=S,F=null,D=null,H=Object(w["a"])(V,O,T,N,P,F,D),M=H.exports,$={name:"TheContent",components:{Player:M},computed:p()({},Object(d["b"])(["View","Config"])),methods:{isShow:function(t){return this.View.currentView===t}}},U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("v-container",{attrs:{id:"container",fluid:""}},[n("Player",{directives:[{name:"show",rawName:"v-show",value:t.isShow("player"),expression:"isShow('player')"}],attrs:{id:"main-player",channel:t.View.currentChannel,platform:t.View.currentPlatform}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow("placeholder"),expression:"isShow('placeholder')"}]},[n("img",{attrs:{id:"placeholder",src:t.Config.placeholder}})])],1)],1)},E=[];function z(t){n("GSag")}var G=!1,I=z,q=null,B=null,L=Object(w["a"])($,U,E,G,I,q,B),A=L.exports,W=n("rzQm"),R=n.n(W),X=(n("gbyG"),n("Gh7F"),{name:"Chat",props:{channel:{default:"",type:String,required:!0}},computed:p()({},Object(d["b"])({View:"View"}),{src:function(){return"//www.twitch.tv/".concat(this.channel,"/chat")}})}),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("iframe",{attrs:{src:t.src,frameborder:"0",scrolling:"no",height:"100%",width:"340px"}})},Z=[],J=!1,Q=null,K=null,tt=null,et=Object(w["a"])(X,Y,Z,J,Q,K,tt),nt=et.exports,at={name:"ChatHub",components:{Chat:nt},props:{channel:{default:"",type:String,required:!0}},data:function(){return{currentChat:null,enabledChat:[]}},methods:{activeChat:function(t){return t&&!this.enabledChat.includes(t)&&this.enabledChat.push(t),this.currentChat="chat-".concat(t),this.enabledChat}}},it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-tabs-items",{model:{value:t.currentChat,callback:function(e){t.currentChat=e},expression:"currentChat"}},t._l(t.activeChat(t.channel),function(t){return n("v-tab-item",{key:t,attrs:{id:"chat-"+t}},[n("Chat",{attrs:{channel:t}})],1)}))},rt=[],ot=!1,st=null,ct=null,lt=null,ut=Object(w["a"])(at,it,rt,ot,st,ct,lt),ht=ut.exports,ft={name:"TheSideBar",components:{TheChatHub:ht},data:function(){return{currentTab:null,currentChat:null}},computed:p()({},Object(d["b"])(["View","Config","DisplayName"]),{channelList:function(){return[this.Config.mainChannel].concat(R()(this.View.activeFloatPlayer))}}),created:function(){this.currentChat=this.Config.mainChannel},methods:{getDisplayName:function(t){return this.DisplayName[t]||t}}},pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{id:"the-side-bar",app:"",right:"",width:"340","disable-resize-watcher":""}},[n("v-tabs",{attrs:{id:"side-bar-tabs",color:"teal"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("v-tab",{attrs:{id:"label-chat",href:"#tab-chat"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"],"fixed-width":"",size:"lg"}}),t._v("\n      "+t._s(t.getDisplayName(t.currentChat))+"\n      "),n("v-spacer"),n("v-menu",{attrs:{id:"channel-drop-down",dark:"",left:"","offset-y":""}},[n("a",{staticClass:"tabs__div",attrs:{slot:"activator"},slot:"activator"},[n("v-icon",[t._v("arrow_drop_down")])],1),n("v-list",{attrs:{id:"channel-list",dense:""}},t._l(t.channelList,function(e){return n("v-list-tile",{key:e,attrs:{href:"#chat-"+e}},[t._v("\n            "+t._s(t.getDisplayName(e))+"\n          ")])}))],1)],1),n("v-tab",{attrs:{href:"#tab-setting"}},[t._v("視窗設定")]),n("v-tab",{attrs:{href:"#tab-follow"}},[t._v("已追隨")]),n("v-tabs-items",{model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[n("v-tab-item",{attrs:{id:"tab-chat"}},[n("TheChatHub",{attrs:{channel:t.currentChat}})],1),n("v-tab-item",{attrs:{id:"tab-setting"}},[t._v("Setting")]),n("v-tab-item",{attrs:{id:"tab-follow"}},[t._v("Follow")])],1)],1)],1)},dt=[];function mt(t){n("vUnL")}var vt=!1,bt=mt,wt=null,gt=null,_t=Object(w["a"])(ft,pt,dt,vt,bt,wt,gt),yt=_t.exports,Ct={name:"App",components:{TheHeader:j,TheContent:A,TheSideBar:yt},mounted:function(){Object.keys(this.$store.state.Config).length&&this.$store.dispatch("View/FetchInfo")}},xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app",dark:""}},[n("TheHeader"),n("TheContent"),n("TheSideBar")],1)},kt=[];function jt(t){n("+VGo")}var Vt=!1,Ot=jt,Tt=null,St=null,Nt=Object(w["a"])(Ct,xt,kt,Vt,Ot,Tt,St),Pt=Nt.exports,Ft=n("2mV7");a["a"].use(d["a"]);var Dt=new d["a"].Store({modules:Ft["default"],strict:!1}),Ht=n("V/H3");n("7zck");a["a"].use(r.a,{theme:{primary:s.a.teal.darken1,secondary:s.a.grey.darken4,accent:s.a.teal.darken3,error:s.a.red.base,warning:s.a.yellow.base,info:s.a.blue.base,success:s.a.green.base}}),a["a"].config.productionTip="production",c["default"].library.add(h["a"],h["b"],h["c"]),a["a"].component("font-awesome-icon",u.a),a["a"].prototype.$toast=Ht["a"],new a["a"]({store:Dt,render:function(t){return t(Pt)}}).$mount("#app")},"V/H3":function(t,e,n){"use strict";var a=n("/5sW"),i=(n("n12u"),{name:"Toast",props:{title:{default:"",type:String},text:{default:"",type:String,required:!0},type:{default:"",type:String},options:{default:function(){return{}},type:Object}},data:function(){return{mergedOptions:Object.assign({color:"info",closeable:!0,"auto-height":!0,timeout:1200,top:!0,multiLine:!!this.title||this.text.length>80},this.options),open:!1}},watch:{open:function(t){!t&&this.close()}},beforeMount:function(){document.querySelector("#app").appendChild(this.$el)},mounted:function(){this.open=!0},methods:{close:function(){var t=this;this.open&&(this.open=!1),setTimeout(function(){t.$options.onClose(),t.$destroy(),r(t.$el)},700)}}});function r(t){"undefined"!==typeof t.remove?t.remove():t.parentNode.removeChild(t)}var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",t._b({model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},"v-snackbar",t.mergedOptions,!1),[n("div",{staticClass:"ctn"},[t.title?n("div",{staticClass:"title mb-2"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"txt"},[t._v(t._s(t.text))])]),t.mergedOptions.closeable?n("v-btn",{attrs:{flat:"",icon:""},nativeOn:{click:function(e){t.open=!1}}},[n("v-icon",[t._v("close")])],1):t._e()],1)},s=[],c=n("XyMi"),l=!1,u=null,h=null,f=null,p=Object(c["a"])(i,o,s,l,u,h,f),d=p.exports;n.d(e,!1,function(){return d});var m=[],v=!1;function b(t){var e=a["a"].extend(d);return new e({el:document.createElement("div"),propsData:t,onClose:function(){v=!1,w()}})}function w(){if(!(m.length<1)&&!v){var t=m[0];b(t),v=!0,m.shift()}}e["a"]={open:function(t){if(!t.text)throw new Error("[toast] no text supplied");m.push(t),w()}}},gNcp:function(t,e,n){var a={"./Config.js":"Dkr9","./DisplayName.js":"xyUP","./View.js":"B1GH","./index.js":"2mV7"};function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="gNcp"},vUnL:function(t,e){},xyUP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("/5sW"),i={},r={Delete:function(t,e){a["a"].delete(t,e)},Update:function(t,e){Object.keys(e).forEach(function(n){a["a"].set(t,n,e[n])})}};e["default"]={namespaced:!0,state:i,mutations:r}}},[0]);
//# sourceMappingURL=app.45c7ef0c.js.map