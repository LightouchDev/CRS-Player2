{"version":3,"sources":["webpack:///src/components/TheSideBar/TheFollowTab.vue","webpack:///./src/components/TheSideBar/TheFollowTab.vue?0a67","webpack:///./src/components/TheSideBar/TheFollowTab.vue"],"names":["TheFollowTab","computed","objectSpread_default","Object","vuex_esm","channel","concat","this","DisplayName","_$store","commit","apply","toConsumableArray_default","Follows","list","filter","obj","loginName","render","_vm","_h","$createElement","_c","_self","attrs","id","row","xs12","append-icon-cb","search","label","append-icon","hide-details","flat","on","keyup","$event","_k","keyCode","key","model","value","callback","$$v","expression","directives","name","rawName","two-line","_l","login","class","listItemColor","click","openPlayer","staticClass","size","tile","src","previewImageURL","staticStyle","color","_v","domProps","textContent","_s","title","getDisplayName","profileImageURL","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","component_normalizer","__webpack_exports__"],"mappings":"2KA6FAA,QAEA,gDAIA,KAEAC,SAAAC,OAAAC,OAAAC,EAAA,KAAAD,EAEA,cACA,UAGA,6EAGAE,EAAA,GAAAC,OAAAC,KAAAC,YAAAH,GAAA,MAAAC,OACAD,EAAA,KACAA,2DAGA,gEACA,yCAMA,IAAAI,8FADAJ,mBAEAK,OAAAC,MAAAF,GACA,cAAAH,OAAAM,IAAAL,KAAAM,QAAAC,KAAAC,OAAA,SAAAC,oBAEAX,yEAKA,0DACAY,sCAEA,aCtIAC,EAAA,WAA0B,IAAAC,EAAAZ,KAAaa,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAOC,GAAA,iBAAAC,IAAA,MAAgCJ,EAAA,UAAeE,OAAOG,KAAA,MAAWL,EAAA,aAAAA,EAAA,OAA4BE,OAAOC,GAAA,gBAAmBH,EAAA,gBAAqBE,OAAOI,iBAAAT,EAAAU,OAAAC,MAAA,cAAAC,cAAA,UAAAC,eAAA,GAAAC,KAAA,IAAsGC,IAAKC,MAAA,SAAAC,GAAyB,iBAAAA,IAAAjB,EAAAkB,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+FpB,EAAAU,OAAAO,GAAf,OAA0CI,OAAQC,MAAAtB,EAAA,UAAAuB,SAAA,SAAAC,GAA+CxB,EAAAF,UAAA0B,GAAkBC,WAAA,gBAAyB,KAAAtB,EAAA,UAAqBuB,aAAaC,KAAA,OAAAC,QAAA,SAAAN,MAAAtB,EAAAN,QAAA,MAAA+B,WAAA,kBAAkFpB,OAASwB,WAAA,KAAe7B,EAAA8B,GAAA9B,EAAAN,QAAA,cAAAR,GAA6C,OAAAiB,EAAA,eAAyBiB,IAAAlC,EAAA6C,MAAAC,MAAAhC,EAAAiC,cAAA/C,EAAA6C,OAAAhB,IAA6DmB,MAAA,SAAAjB,GAAyBjB,EAAAmC,WAAAjD,EAAA6C,WAAgC7C,EAAA,iBAAAiB,EAAA,sBAAsDiC,YAAA,gBAAA/B,OAAmCgC,KAAA,KAAAC,KAAA,MAAuBnC,EAAA,OAAYE,OAAOkC,IAAArD,EAAAsD,mBAA+BrC,EAAA,OAAYE,OAAOC,GAAA,eAAkBH,EAAA,QAAasC,aAAaC,MAAA,SAAe1C,EAAA2C,GAAA,OAAA3C,EAAA2C,GAAA,aAAAxC,EAAA,uBAAAA,EAAA,qBAAsFyC,UAAUC,YAAA7C,EAAA8C,GAAA5D,EAAA6D,UAAqC5C,EAAA,yBAA8ByC,UAAUC,YAAA7C,EAAA8C,GAAA9C,EAAAgD,eAAA9D,EAAA6C,YAAyD,KAAA5B,EAAA,sBAAiCE,OAAOgC,KAAA,QAAalC,EAAA,OAAYE,OAAOkC,IAAArD,EAAA+D,qBAA+B9C,EAAA,uBAAAA,EAAA,qBAAsDyC,UAAUC,YAAA7C,EAAA8C,GAAA9C,EAAAgD,eAAA9D,EAAA6C,YAAyD,YAAW,QAClnDmB,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,KAEAC,EAAA,KAEAC,EAAA1E,OAAA2E,EAAA,KAAA3E,CACAH,EACAkB,EACAmD,EACAI,EACAC,EACAC,EACAC,GAGAG,EAAA,WAAAF,EAAA","file":"js/1.590bb86e.js","sourcesContent":["<template>\r\n  <v-layout\r\n    id=\"the-follow-tab\"\r\n    row\r\n  >\r\n    <v-flex xs12>\r\n      <v-toolbar>\r\n        <div id=\"search-bar\">\r\n          <v-text-field\r\n            v-model=\"loginName\"\r\n            :append-icon-cb=\"search\"\r\n            label=\"輸入帳號以載入追隨名單\"\r\n            append-icon=\"refresh\"\r\n            hide-details\r\n            flat\r\n            @keyup.enter=\"search\"\r\n          />\r\n        </div>\r\n      </v-toolbar>\r\n      <v-list\r\n        v-show=\"Follows.ready\"\r\n        two-line\r\n      >\r\n        <!-- FIXME: lazy lister -->\r\n        <v-list-tile\r\n          v-for=\"channel in Follows.list\"\r\n          :key=\"channel.login\"\r\n          :class=\"listItemColor(channel.login)\"\r\n          @click=\"openPlayer(channel.login)\"\r\n        >\r\n          <template v-if=\"channel.previewImageURL\">\r\n            <v-list-tile-avatar\r\n              class=\"preview-image\"\r\n              size=\"60\"\r\n              tile\r\n            >\r\n              <img :src=\"channel.previewImageURL\">\r\n              <div id=\"indicator\"><span style=\"color: red\">⬤</span> LIVE</div>\r\n            </v-list-tile-avatar>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title v-text=\"channel.title\"/>\r\n              <v-list-tile-sub-title v-text=\"getDisplayName(channel.login)\"/>\r\n            </v-list-tile-content>\r\n          </template>\r\n          <template v-else>\r\n            <v-list-tile-avatar size=\"50\">\r\n              <img :src=\"channel.profileImageURL\">\r\n            </v-list-tile-avatar>\r\n            <v-list-tile-content>\r\n              <v-list-tile-title v-text=\"getDisplayName(channel.login)\"/>\r\n            </v-list-tile-content>\r\n          </template>\r\n        </v-list-tile>\r\n      </v-list>\r\n    </v-flex>\r\n  </v-layout>\r\n</template>\r\n\r\n<style lang=\"postcss\">\r\n#the-follow-tab {\r\n  min-height: 0;\r\n  & #search-bar {\r\n    width: 100%;\r\n    padding: 0 8px;\r\n  }\r\n  & #indicator {\r\n    bottom: 0;\r\n    line-height: normal;\r\n    position: absolute;\r\n    right: 2px;\r\n    text-shadow:\r\n      -1px -1px 0 #000,\r\n       1px -1px 0 #000,\r\n      -1px  1px 0 #000,\r\n       1px  1px 0 #000;\r\n  }\r\n  & .list__tile__avatar {\r\n    margin-top: 0;\r\n    margin-right: 16px;\r\n    min-width: unset;\r\n  }\r\n  & .preview-image {\r\n    & .avatar {\r\n      width: auto !important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { eventBus, preset } from '@/utils'\r\n\r\nexport default {\r\n  name: 'TheFollowTab',\r\n  data () {\r\n    return {\r\n      loginName: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'DisplayName',\r\n      'Follows',\r\n      'Player'\r\n    ])\r\n  },\r\n  methods: {\r\n    getDisplayName (channel) {\r\n      return this.DisplayName[channel] !== channel\r\n        ? `${this.DisplayName[channel]} (${channel})`\r\n        : channel\r\n    },\r\n    listItemColor (channel) {\r\n      if (channel === preset.mainChannel) return 'info'\r\n      if (this.Player.booted.some(obj => obj.login === channel)) return 'success'\r\n    },\r\n    openPlayer (channel) {\r\n      // FIXME: split order, and clinet info array\r\n      if (this.Player.booted.some(obj => obj.login === channel)) {\r\n        this.$store.commit('Player/Remove', channel)\r\n      } else {\r\n        this.$store.commit(\r\n          'Player/Add',\r\n          ...this.Follows.list.filter(obj => obj.login === channel)\r\n        )\r\n      }\r\n    },\r\n    search () {\r\n      if (this.loginName) {\r\n        eventBus.emit('toast-open', { text: '正在擷取追蹤列表……' })\r\n        this.$store.dispatch('Follows/Search', this.loginName)\r\n      } else {\r\n        eventBus.emit('toast-error', '請輸入帳號。')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/TheSideBar/TheFollowTab.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"id\":\"the-follow-tab\",\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-toolbar',[_c('div',{attrs:{\"id\":\"search-bar\"}},[_c('v-text-field',{attrs:{\"append-icon-cb\":_vm.search,\"label\":\"輸入帳號以載入追隨名單\",\"append-icon\":\"refresh\",\"hide-details\":\"\",\"flat\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.loginName),callback:function ($$v) {_vm.loginName=$$v},expression:\"loginName\"}})],1)]),_c('v-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.Follows.ready),expression:\"Follows.ready\"}],attrs:{\"two-line\":\"\"}},_vm._l((_vm.Follows.list),function(channel){return _c('v-list-tile',{key:channel.login,class:_vm.listItemColor(channel.login),on:{\"click\":function($event){_vm.openPlayer(channel.login)}}},[(channel.previewImageURL)?[_c('v-list-tile-avatar',{staticClass:\"preview-image\",attrs:{\"size\":\"60\",\"tile\":\"\"}},[_c('img',{attrs:{\"src\":channel.previewImageURL}}),_c('div',{attrs:{\"id\":\"indicator\"}},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"⬤\")]),_vm._v(\" LIVE\")])]),_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(channel.title)}}),_c('v-list-tile-sub-title',{domProps:{\"textContent\":_vm._s(_vm.getDisplayName(channel.login))}})],1)]:[_c('v-list-tile-avatar',{attrs:{\"size\":\"50\"}},[_c('img',{attrs:{\"src\":channel.profileImageURL}})]),_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"textContent\":_vm._s(_vm.getDisplayName(channel.login))}})],1)]],2)}))],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-363565ce\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TheSideBar/TheFollowTab.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TheFollowTab.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\Miau\\\\\\\\Documents\\\\\\\\Git\\\\\\\\CRS-Player2\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TheFollowTab.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"C:\\\\\\\\Users\\\\\\\\Miau\\\\\\\\Documents\\\\\\\\Git\\\\\\\\CRS-Player2\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TheFollowTab.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-363565ce\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TheFollowTab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TheSideBar/TheFollowTab.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}