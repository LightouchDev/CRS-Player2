webpackJsonp([4],{"+VGo":function(e,t){},"/626":function(e,t){},"/kfi":function(e,t){},"/nfy":function(e,t){},0:function(e,t,n){e.exports=n("NHnr")},"0d/v":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("/5sW"),r=n("L/hj"),c={active:{},bootedChannel:{},fetching:!1,opacity:{},order:[]},s={Add:function(e,t){var n=t.login;r["d"].mainChannel!==t.login&&(e.bootedChannel[n]||(o["a"].set(e.bootedChannel,n,t),o["a"].set(e.active,n,!0),o["a"].set(e.opacity,n,100),e.order.unshift(n)))},Disable:function(e,t){o["a"].set(e.active,t,!1)},EditOpacity:function(e,t){var n=t.channel,a=t.opacity;o["a"].set(e.opacity,n,a)},Enable:function(e,t){o["a"].set(e.active,t,!0)},Fetched:function(e){e.fetching=!1},Fetching:function(e){e.fetching=!0},Remove:function(e,t){e.bootedChannel[t]&&(o["a"].delete(e.bootedChannel,t),o["a"].delete(e.active,t),o["a"].delete(e.opacity,t),o["a"].set(e,"order",e.order.filter(function(e){return e!==t}))),this.dispatch("View/RemoveChat",t)},ToggleVisibility:function(e,t){o["a"].set(e.active,t,!e.active[t])},UpdateOrder:function(e,t){e.order=t}},l={FetchAndAdd:function(e,t){var n=this,a=e.commit,o=e.state;!o.fetching&&t&&(a("Fetching"),Object(r["b"])({query:'query {\n        user(login: "'.concat(t,'") {\n          displayName\n          login\n          profileImageURL(width: 150)\n          stream {\n            previewImageURL(width: 320, height: 180)\n          }\n        }\n      }\n      ')}).then(function(e){return e.json()}).then(function(e){var o=e.data;if(!o.user.login)throw new Error("請檢查你的帳號名稱");var r=o.user;r.dedicated=!0,r.previewImageURL=r.stream.previewImageURL,n.commit("DisplayName/Update",i()({},t,r.displayName)),delete r.stream,a("Add",r),a("Fetched")}).then(function(){return Object(r["c"])('[Store] new channel "'.concat(t,'" fetched.'))}).catch(function(e){r["a"].emit("toast-error","擷取追蹤列表時發生錯誤 (".concat(e,")")),Object(r["e"])("[Store] can't fetch channel \"".concat(t,'" (').concat(e,")")),a("Fetched")}))}};t["default"]={namespaced:!0,state:c,mutations:s,actions:l}},"2mV7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("VjuZ"),i=(n.n(a),n("gNcp")),o={};i.keys().forEach(function(e){"./index.js"!==e&&(o[e.replace(/(\.\/|\.js)/g,"")]=i(e).default)}),t["default"]=o},"3R/k":function(e,t){},"6nfk":function(e,t){},"6xHO":function(e,t){},"7YgM":function(e,t){e.exports={name:"crs-player2",productName:"CRS-Player2",version:"1.2.0",author:"ChRiS38c28 (https://www.plurk.com/chris38c28)",contributors:["Miau Lightouch <miaulightouch@gmail.com>"],description:"The web multi-stream player.",license:"MIT",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build",lint:"vue-cli-service lint"},dependencies:{"@fortawesome/fontawesome":"^1.1.5","@fortawesome/fontawesome-free-brands":"^5.0.10","@fortawesome/vue-fontawesome":"^0.0.22",debug:"^3.1.0",eventemitter3:"^3.0.1","lodash.get":"^4.4.2",vue:"^2.5.13","vue-draggable-resizable":"^1.7.1",vuedraggable:"^2.16.0",vuetify:"^1.0.14",vuex:"^3.0.1"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.0-beta.6","@vue/cli-plugin-eslint":"^3.0.0-beta.6","@vue/cli-service":"^3.0.0-beta.6","babel-plugin-transform-imports":"^1.5.0","babel-plugin-transform-strict-mode":"^6.24.1",eslint:"^4.19.1","eslint-config-standard":"^11.0.0-beta.0","eslint-plugin-import":"^2.10.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.4.0","postcss-nesting":"^4.2.1","postcss-preset-env":"^4.0.0",stylus:"^0.54.5","stylus-loader":"^3.0.2","vue-template-compiler":"^2.5.13"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"90VL":function(e,t){},B1GH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("n12u"),r=(n.n(o),n("gbyG")),c=(n.n(r),n("Gh7F")),s=(n.n(c),n("L/hj")),l=s["d"].mainChannel,u=s["d"].titlePostfix,d={currentChannel:"",currentChat:l,currentPlatform:"twitch",currentView:"placeholder",enabledChat:[l],host:"",live:!1,sidebar:!0,title:n("7YgM").productName},h={ActiveChat:function(e,t){e.enabledChat.includes(t)||e.enabledChat.push(t)},ChangeChat:function(e,t){e.currentChat=t},UpdateChat:function(e,t){e.enabledChat=t},Update:function(e,t){Object.assign(e,t),t.title&&(document.title="".concat(t.title," - ").concat(u))},ToggleSidebar:function(e){e.sidebar=!e.sidebar}},f={Update:function(e,t){var n=e.commit;n("Update",t)},ChangeChat:function(e,t){var n=e.commit,a=e.state;a.enabledChat.includes(t)||n("ActiveChat",t),n("ChangeChat",t)},RemoveChat:function(e,t){var n=e.commit,a=e.state,i=a.enabledChat.filter(function(e){return e!==t});a.currentChat===t&&n("ChangeChat",i[0]),n("UpdateChat",i)},FetchInfo:function(e){var t=this,n=e.commit;e.state;Object(s["b"])({query:'query {\n        user(login: "'.concat(l,'") {\n          broadcastSettings {\n            title\n          }\n          displayName\n          hosting {\n            login\n            displayName\n          }\n          stream {\n            id\n          }\n        }\n      }')}).then(function(e){return e.json()}).then(function(e){var a=e.data;n("Update",{host:a.user.hosting.login||null,live:!!a.user.stream.id,title:a.user.broadcastSettings.title}),t.commit("DisplayName/Update",i()({},l,a.user.displayName)),a.user.hosting.login&&t.commit("DisplayName/Update",i()({},a.user.hosting.login,a.user.hosting.displayName))}).then(function(){s["a"].emit("toast-success","擷取頻道資訊成功"),s["a"].emit("parse-menu"),Object(s["c"])("[Store] fetch from GraphQL success!")}).catch(function(e){s["a"].emit("toast-error","擷取頻道資訊時發生錯誤 (".concat(e,")")),s["a"].emit("fallback-menu"),Object(s["e"])("[Store] fetch from GraphQL error (".concat(e,")"))})}};t["default"]={namespaced:!0,state:d,mutations:h,actions:f}},BCfr:function(e,t){},FbEL:function(e,t){},GSag:function(e,t){},"HNa/":function(e,t){},"L/hj":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return s});var a=n("Fy0/"),i=n.n(a),o=n("BzvE"),r=n.n(o),c=i()("CP2:info"),s=i()("CP2:warn"),l={};try{l=n("d/QJ"),c("[APP] preset import successful!")}catch(e){s("[APP] no preset imported.")}var u=new r.a;function d(e,t){if(!e.query)throw new Error('[GQL] property "query" is required.');return fetch(t||"https://gql.twitch.tv/gql",{body:JSON.stringify(e),headers:{"Client-Id":t?null:l.client_id,"Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer"})}},LGiM:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("/5sW"),i=n("IHMs"),o=n.n(i),r=n("QxPg"),c=n("U0v6"),s=n.n(c),l=n("b5xI"),u=n("M+UZ"),d=n.n(u),h=n("IcMm"),f=n.n(h),p=n("7Q1V"),m=n.n(p),b=n("MPXs"),v=n.n(b),g=n("XRgG"),w=n.n(g),y=n("JUsQ"),_=n.n(y),C=n("7M7f"),V=n.n(C),j=n("fYhH"),x=n.n(j),k=n("DBae"),O=n.n(k),T=n("rPQa"),S=n.n(T),N=n("UxJg"),P=n.n(N),F=n("dVU6"),U=n.n(F),L=n("6/SM"),D=n.n(L),E=n("/yi5"),M=n.n(E),$=n("+9ps"),I=n.n($),A=n("6VHA"),R=n.n(A),q=n("L/hj"),B=(n("y9m4"),n("fx22"),n("VjuZ"),n("Oy1H")),G=n.n(B),H=(n("n12u"),n("Biqn")),Q=n.n(H),W=n("NYxO"),z=n("y3TV"),J=n.n(z),Z={name:"TheHeader",data:function(){return{menu:[],facebookWidget:!1}},computed:Q()({},Object(W["b"])(["DisplayName","View"]),{sidebarToggleIcon:function(){return this.View.sidebar?"chevron_right":"chevron_left"}}),created:function(){this.preset=q["d"],q["a"].on("parse-menu",this.parseMenu)},methods:{changeView:function(e){var t=this.menu[e];t.channel&&this.$store.dispatch("View/Update",{currentChannel:t.channel,currentPlatform:t.platform,currentView:"player"}),t.href&&window.open(t.href,"_blank")},parseMenu:function(){var e=this;Object(q["c"])("[MENU] start parse! %o",q["d"].menu),this.menu=[],q["d"].menu.forEach(function(t,n){var a=[];if(t=Object.assign({},t),Object.keys(t).forEach(function(e){var n=t[e];"object"===G()(n)&&n.source&&a.push(fetch(n.source).then(function(e){return e.json()}).then(function(a){n.template?t[e]=n.template.replace("%s",J()(a,n.path)):t[e]=a}))}),a.length&&Promise.all(a).then(function(){t.toast&&t.toast.success&&q["a"].emit("toast-success",t.toast.success),Object(q["c"])("[MENU] Job ".concat(n,": ").concat(t.type," job done"))}).catch(function(a){t.toast&&t.toast.error&&q["a"].emit("toast-error","".concat(t.toast.error," (").concat(a,")")),Object(q["e"])("[MENU] Job ".concat(n,": '").concat(t.type,"' error (").concat(a,")")),e.menu=e.menu.filter(function(e){return e!==t})}),"link"===t.type||t.platform||(t.platform="twitch"),"mainChannel"===t.type&&(t.label=t.label||e.DisplayName[q["d"].mainChannel]||q["d"].mainChannel,t.channel=t.channel||q["d"].mainChannel),"host"===t.type){if(!e.View.host)return;t.label=t.label||"轉播：".concat(e.DisplayName[e.View.host]||e.View.host),t.channel=t.channel||e.View.host}e.menu.push(t)})}}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{id:"the-header",app:""}},[n("font-awesome-icon",{attrs:{icon:["fab",e.View.currentPlatform],"fixed-width":"",size:"2x"}}),n("v-toolbar-title",[e._v(e._s(e.View.title))]),n("v-spacer"),n("v-toolbar-items",[n("v-menu",{attrs:{bottom:"",left:"","offset-y":""}},[n("v-btn",{attrs:{slot:"activator",color:"teal"},slot:"activator"},[e._v("主選單")]),n("v-list",{attrs:{dense:""}},[e._l(e.menu,function(t,a){return n("v-list-tile",{key:a,on:{click:function(t){e.changeView(a)}}},[t.platform?n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab",t.platform],size:"lg","fixed-width":""}}):t.type?n("v-icon",{staticClass:"tile-icon"},[e._v(e._s(t.type))]):e._e(),n("v-list-tile-title",[e._v(e._s(t.label))])],1)}),e.preset.fb_widget?n("v-list-tile",{on:{click:function(t){e.facebookWidget=!0}}},[n("font-awesome-icon",{staticClass:"tile-icon",attrs:{icon:["fab","facebook"],size:"lg","fixed-width":""}}),e._v("\n          臉書專頁\n        ")],1):e._e(),e.preset.placeholder?n("v-list-tile",{on:{click:function(t){e.$store.commit("View/Update",{currentView:"placeholder"})}}},[n("v-icon",{staticClass:"tile-icon"},[e._v("help")]),e._v("\n          使用說明\n        ")],1):e._e(),n("v-list-tile",{on:{click:function(t){e.$store.dispatch("View/FetchInfo")}}},[n("v-icon",{staticClass:"tile-icon"},[e._v("refresh")]),e._v("\n          重新擷取頻道資訊\n        ")],1)],2)],1)],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.$store.commit("View/ToggleSidebar")}}},[n("v-icon",[e._v(e._s(e.sidebarToggleIcon))])],1),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.facebookWidget,callback:function(t){e.facebookWidget=t},expression:"facebookWidget"}},[e.facebookWidget?n("iframe",{staticClass:"elevation-8",attrs:{id:"facebook-widget",src:e.preset.fb_widget,height:"100%",width:"100%",frameborder:"0",framespacing:"0"}}):e._e()])],1)},X=[],K=n("XyMi");function ee(e){n("/nfy")}var te=!1,ne=ee,ae=null,ie=null,oe=Object(K["a"])(Z,Y,X,te,ne,ae,ie),re=oe.exports,ce=n("rwDq"),se={name:"TheContent",components:{Player:ce["a"]},computed:Q()({},Object(W["b"])(["View"])),created:function(){this.preset=q["d"]},methods:{isShow:function(e){return this.View.currentView===e}}},le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-container",{attrs:{id:"container",fluid:""}},[a("Player",{directives:[{name:"show",rawName:"v-show",value:e.isShow("player"),expression:"isShow('player')"}],attrs:{id:"main-player",channel:e.View.currentChannel,platform:e.View.currentPlatform}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow("placeholder"),expression:"isShow('placeholder')"}]},[a("img",{attrs:{id:"placeholder",src:e.preset.placeholder}})]),a("span",{attrs:{id:"version-text"},domProps:{textContent:e._s("v"+n("7YgM").version)}})],1)],1)},ue=[];function de(e){n("GSag")}var he=!1,fe=de,pe=null,me=null,be=Object(K["a"])(se,le,ue,he,fe,pe,me),ve=be.exports,ge=n("rzQm"),we=n.n(ge),ye={name:"Chat",props:{channel:{default:"",type:String,required:!0}}},_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{attrs:{src:"//www.twitch.tv/embed/"+e.channel+"/chat",frameborder:"0",scrolling:"no",height:"100%",width:"340px"}})},Ce=[],Ve=!1,je=null,xe=null,ke=null,Oe=Object(K["a"])(ye,_e,Ce,Ve,je,xe,ke),Te=Oe.exports,Se={name:"TheChatTab",components:{Chat:Te},computed:Q()({},Object(W["b"])(["View"]))},Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tabs",{attrs:{id:"the-chat-page"}},[n("v-tabs-items",{model:{value:e.View.currentChat,callback:function(t){e.$set(e.View,"currentChat",t)},expression:"View.currentChat"}},e._l(e.View.enabledChat,function(e){return n("v-tab-item",{key:e,attrs:{id:e}},[n("Chat",{attrs:{channel:e}})],1)}))],1)},Pe=[];function Fe(e){n("QVKz")}var Ue=!1,Le=Fe,De=null,Ee=null,Me=Object(K["a"])(Se,Ne,Pe,Ue,Le,De,Ee),$e=Me.exports,Ie={name:"TheSideBar",components:{TheChatTab:$e,TheFollowTab:function(){return n.e(2).then(n.bind(null,"dxDj"))},TheSettingTab:function(){return n.e(0).then(n.bind(null,"LAve"))}},data:function(){return{currentTab:null,menuWidth:0}},computed:Q()({},Object(W["b"])(["View","DisplayName","Player"]),{channelList:function(){return[q["d"].mainChannel,this.View.host].concat(we()(this.Player.order)).filter(function(e){return e})},menuStyle:function(){if(this.menuWidth)return{width:this.menuWidth+"px"}}}),mounted:function(){var e=this,t=function(){e.menuWidth=e.$refs.tabChat.$el.getBoundingClientRect().width};"complete"===document.readyState?t():window.addEventListener("load",t)},methods:{getDisplayName:function(e){return this.DisplayName[e]||e}}},Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{id:"the-side-bar",app:"","hide-overlay":"","mobile-break-point":"0",right:"",width:"340"},model:{value:e.View.sidebar,callback:function(t){e.$set(e.View,"sidebar",t)},expression:"View.sidebar"}},[n("v-tabs",{attrs:{id:"side-bar-tabs",color:"teal"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[n("v-tab",{ref:"tabChat",attrs:{id:"label-chat",href:"#tab-chat"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"],"fixed-width":"",size:"lg"}}),e._v("\n      "+e._s(e.getDisplayName(e.View.currentChat))+"\n      "),n("v-spacer"),n("v-menu",{attrs:{id:"channel-drop-down",dark:"",left:"","offset-y":""}},[n("a",{staticClass:"tabs__div",attrs:{slot:"activator"},slot:"activator"},[n("v-icon",[e._v("arrow_drop_down")])],1),n("v-list",{style:e.menuStyle,attrs:{id:"channel-list",dense:""}},e._l(e.channelList,function(t){return n("v-list-tile",{key:t,class:t===e.View.currentChat?"info":"",on:{click:function(n){e.$store.dispatch("View/ChangeChat",t)}}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"],"fixed-width":"",size:"lg"}}),e._v("\n            "+e._s(e.getDisplayName(t))+"\n          ")],1)}))],1)],1),n("v-tab",{attrs:{href:"#tab-setting"}},[e._v("視窗設定")]),n("v-tab",{attrs:{href:"#tab-follow"}},[e._v("已追隨")]),n("v-tabs-items",{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[n("v-tab-item",{attrs:{id:"tab-chat"}},[n("TheChatTab")],1),n("v-tab-item",{attrs:{id:"tab-setting"}},[n("TheSettingTab")],1),n("v-tab-item",{attrs:{id:"tab-follow"}},[n("TheFollowTab")],1)],1)],1)],1)},Re=[];function qe(e){n("vUnL")}var Be=!1,Ge=qe,He=null,Qe=null,We=Object(K["a"])(Ie,Ae,Re,Be,Ge,He,Qe),ze=We.exports,Je=[];function Ze(e){if(!e.text)throw new Error("[toast] no text supplied");e.closeable=void 0===e.closeable&&!0,e.options=Object.assign({color:"info","auto-height":!0,timeout:1200,top:!0,"multi-line":!!e.title||e.text.length>80},e.options),Je.push(e),q["a"].emit("toast-process-queue")}q["a"].on("toast-open",Ze),q["a"].on("toast-success",function(e){return Ze({text:e,options:{color:"success"}})}),q["a"].on("toast-error",function(e){return Ze({text:e,options:{color:"error"}})});var Ye={name:"TheToast",data:function(){return{closeable:!1,open:!1,options:{},text:"",title:""}},watch:{open:function(e){!e&&this.close()}},mounted:function(){var e=this,t=function(){if(!e.open&&Je.length){var t=Je.shift();e.closeable=t.closeable,e.options=t.options,e.text=t.text,e.title=t.title,setTimeout(function(){e.open=!0},700)}};q["a"].on("toast-process-queue",t),t()},methods:{close:function(){this.open=!1,Je.length&&q["a"].emit("toast-process-queue")}}},Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",e._b({model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},"v-snackbar",e.options,!1),[n("div",{staticClass:"ctn"},[e.title?n("div",{staticClass:"title mb-2"},[e._v(e._s(e.title))]):e._e(),n("div",{staticClass:"txt"},[e._v(e._s(e.text))])]),e.closeable?n("v-btn",{attrs:{flat:"",icon:""},nativeOn:{click:function(t){return e.close(t)}}},[n("v-icon",[e._v("close")])],1):e._e()],1)},Ke=[],et=!1,tt=null,nt=null,at=null,it=Object(K["a"])(Ye,Xe,Ke,et,tt,nt,at),ot=it.exports,rt={name:"App",components:{TheHeader:re,TheContent:ve,TheSideBar:ze,TheFloatLayer:function(){return n.e(1).then(n.bind(null,"xaoL"))},TheToast:ot},mounted:function(){Object.keys(q["d"]).length&&this.$store.dispatch("View/FetchInfo")}},ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app",dark:""}},[n("TheHeader"),n("TheContent"),n("TheSideBar"),n("TheFloatLayer"),n("TheToast")],1)},st=[];function lt(e){n("+VGo")}var ut=!1,dt=lt,ht=null,ft=null,pt=Object(K["a"])(rt,ct,st,ut,dt,ht,ft),mt=pt.exports,bt=n("2mV7");a["a"].use(W["a"]);var vt=new W["a"].Store({modules:bt["default"],strict:!1});n("s6ZO");a["a"].use(d.a,{components:{VApp:f.a,VBtn:m.a,VDialog:v.a,VDivider:w.a,VGrid:_.a,VIcon:V.a,VList:x.a,VMenu:O.a,VNavigationDrawer:S.a,VSnackbar:P.a,VSlider:U.a,VTabs:D.a,VTextField:M.a,VToolbar:I.a,transitions:R.a},theme:{primary:o.a.teal.darken1,secondary:o.a.grey.darken4,accent:o.a.teal.darken3,error:o.a.red.base,warning:o.a.yellow.base,info:o.a.blue.base,success:o.a.green.base}}),a["a"].config.productionTip="production",r["default"].library.add(l["a"],l["b"],l["c"]),a["a"].component("font-awesome-icon",s.a),new a["a"]({store:vt,render:function(e){return e(mt)}}).$mount("#app")},NOHZ:function(e,t){},P0ba:function(e,t){},QVKz:function(e,t){},VVS6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("n12u"),i=(n.n(a),n("uDYd")),o=(n.n(i),n("/5sW")),r=n("L/hj"),c={fetching:!1,list:[],ready:!1};function s(e){var t=[],n={};return e.sort(function(e,t){return!!e.stream.broadcaster===!!t.stream.broadcaster?new Date(e.lastBroadcast.startedAt)>new Date(t.lastBroadcast.startedAt)?-1:1:e.stream.broadcaster?-1:1}).forEach(function(e){t.push(Object.assign({login:e.login,startedAt:e.lastBroadcast.startedAt},e.stream.broadcaster?{title:e.stream.broadcaster.broadcastSettings.title,previewImageURL:e.stream.previewImageURL}:{profileImageURL:e.profileImageURL})),n[e.login]=e.displayName}),this.commit("DisplayName/Update",n),t}var l={Empty:function(e){o["a"].set(e,"ready",!1),o["a"].set(e,"list",[])},Fetched:function(e){e.fetching=!1},Fetching:function(e){e.fetching=!0},Ready:function(e){o["a"].set(e,"ready",!0)},SortAndReady:function(e){o["a"].set(e,"list",s.call(this,c.list)),o["a"].set(e,"ready",!0)},Update:function(e,t){o["a"].set(e,"list",c.list.concat(t.map(function(e){var t=e.node;return t}).filter(function(e){return e.login}))),t.forEach(function(e){var t=e.node;return Object(r["e"])("ID: %s",t.login)})}},u={Search:function(e,t){var n=e.commit;if(!c.fetching&&t){n("Fetching"),n("Empty");var a=0,i=function e(t,i){Object(r["b"])({extensions:{},operationName:"ChannelFollows",query:d,variables:{limit:i?7:15,login:t,cursor:i,order:"DESC"}}).then(function(e){return e.json()}).then(function(i){var o=i.data;if(!o.user.follows)throw new Error("請檢查你的帳號名稱");var c=o.user.follows.edges;n("Update",c),a+=c.length,o.user.follows.pageInfo.hasNextPage?e(t,c[c.length-1].cursor):(r["a"].emit("toast-success","已擷取追蹤列表: ".concat(a)),n("SortAndReady"),n("Fetched"))}).then(function(){return Object(r["c"])("[Store] fetch follow list ".concat(a))}).catch(function(e){r["a"].emit("toast-error","擷取追蹤列表時發生錯誤 (".concat(e,")")),Object(r["e"])("[Store] fetch follow list error, ".concat(a," fetched. (").concat(e,")")),n("Fetched")})};i(t)}}},d="\nquery ChannelFollows($login: String, $limit: Int, $cursor: Cursor, $order: SortOrder) {\n  user(login: $login) {\n    follows(first: $limit, after: $cursor, order: $order) {\n      pageInfo {\n        hasNextPage\n      }\n      edges {\n        cursor\n        node {\n          displayName\n          lastBroadcast {\n            startedAt\n          }\n          login\n          profileImageURL(width: 150)\n          stream {\n            broadcaster {\n              broadcastSettings {\n                title\n              }\n            }\n            previewImageURL(width: 320, height: 180)\n          }\n        }\n      }\n    }\n  }\n}\n";t["default"]={namespaced:!0,state:c,mutations:l,actions:u}},"X05+":function(e,t){},XC5Q:function(e,t){},acBN:function(e,t){},"d/QJ":function(e,t){e.exports={client_id:"kimne78kx3ncx6brgo4mv6wki5h1ko",fb_widget:"https://www.facebook.com/v2.12/plugins/page.php?adapt_container_width=true&app_id=&channel=http%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2FMs1VZf1Vg1J.js%3Fversion%3D42%23cb%3Df74608d1c2edc%26domain%3D%26origin%3Dfile%253A%252F%252F%252Ff6ad99404e22cc%26relation%3Dparent.parent&container_width=840&hide_cover=false&href=https%3A%2F%2Fwww.facebook.com%2Ftetristhegrandmaster3&locale=zh_TW&sdk=joey&show_facepile=true&small_header=false&tabs=timeline&width=500&height=720",mainChannel:"tetristhegrandmaster3",menu:[{channel:{path:"hosts[1].okurl",source:"https://crs-dlbot.herokuapp.com/cors",template:"https://ok.ru/videoembed/%s?nochat=1&autoplay=1"},label:"三民大戲院",platform:"odnoklassniki",toast:{success:"讀取大戲院資訊成功",error:"讀取大戲院資訊失敗"},type:"misc"},{label:"彩學台",type:"mainChannel"},{type:"host"},{href:"http://tetristhe.droppages.com/clips.html",label:"精華剪輯",type:"link"}],placeholder:"https://imgur.com/2yEZ5xY.png",titlePostfix:"實況主中途之家"}},gNcp:function(e,t,n){var a={"./DisplayName.js":"xyUP","./Follows.js":"VVS6","./Player.js":"0d/v","./View.js":"B1GH","./index.js":"2mV7"};function i(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="gNcp"},kP4z:function(e,t){},kVeV:function(e,t){},pu2v:function(e,t){},qRVk:function(e,t){},rwDq:function(e,t,n){"use strict";var a={name:"Player",props:{channel:{default:"",type:String},platform:{default:"twitch",type:String}},computed:{src:function(){return"twitch"===this.platform?"//player.twitch.tv/?channel=".concat(this.channel):this.channel}}},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.channel?n("div",{attrs:{id:e.channel}},[n("iframe",{staticClass:"player-frame",attrs:{src:e.src,height:"100%",width:"100%",frameborder:"0",framespacing:"0"}})]):e._e()},o=[],r=n("XyMi");function c(e){n("6xHO")}var s=!1,l=c,u=null,d=null,h=Object(r["a"])(a,i,o,s,l,u,d);t["a"]=h.exports},rzhv:function(e,t){},s6ZO:function(e,t){},sBiC:function(e,t){},vUnL:function(e,t){},xyUP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("fKPv"),i=n.n(a),o=n("/5sW"),r=n("L/hj"),c={},s={Delete:function(e,t){o["a"].delete(e,t)},Update:function(e,t){Object.keys(t).forEach(function(n){o["a"].set(e,n,t[n])})}},l={Fetch:function(e,t){var n=e.commit;Object(r["b"])({query:'query {\n        user(login: "'.concat(t,'") {\n          displayName\n        }\n      }')}).then(function(e){return e.json()}).then(function(e){var a=e.data;return n("Update",i()({},t,a.user.displayName))}).then(function(){return Object(r["c"])("[GQL] ".concat(t," display name get."))}).catch(function(e){return Object(r["e"])("[GQL] ".concat(t," display name failed. (").concat(e,")"))})}};t["default"]={namespaced:!0,state:c,mutations:s,actions:l}}},[0]);
//# sourceMappingURL=app.3e14a4d7.js.map